{% extends "base.html" %}

{% block content %}
  <h2>All Posts</h2>
  <div id="posts"></div>

  <script>
    async function fetchPosts() {
      const response = await fetch('/posts', {
        headers: {
          'Authorization': 'Bearer YOUR_JWT_HERE'  // Replace with your token
        }
      });
      const posts = await response.json();
      const container = document.getElementById('posts');
      posts.forEach(post => {
        const div = document.createElement('div');
        div.innerHTML = `<h3>${post.title}</h3><p>${post.content}</p><hr>`;
        container.appendChild(div);
      });
    }

    fetchPosts();
  </script>
{% endblock %}
